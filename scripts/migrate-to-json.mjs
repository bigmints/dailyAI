#!/usr/bin/env node

/**
 * Migration script to convert mockData.ts to individual JSON files
 * Run with: node scripts/migrate-to-json.mjs
 */

import { writeFileSync, mkdirSync } from 'fs';
import { dirname, join } from 'path';
import { fileURLToPath } from 'url';

const __filename = fileURLToPath(import.meta.url);
const __dirname = dirname(__filename);

// Mock data from mockData.ts - all 7 editions
const mockEditions = [
  {"id":"ed-2024-12-24","date":"2024-12-24T00:00:00.000Z","title":"Innovation & Discovery","articles":[{"id":"art-quantum-2024","url":"https://example.com/quantum-breakthrough","title":"Quantum Computing Reaches New Milestone","shortDescription":"Scientists achieve quantum supremacy with a 1000-qubit processor, opening doors to revolutionary applications.","fullSummary":"A team of researchers has successfully demonstrated quantum supremacy using a 1000-qubit quantum processor, marking a significant breakthrough in quantum computing. This achievement opens up possibilities for solving complex problems in cryptography, drug discovery, and climate modeling that are beyond the reach of classical computers. The processor maintained quantum coherence for unprecedented durations, a key challenge in the field.","imageUrl":"https://images.unsplash.com/photo-1635070041078-e363dbe005cb?auto=format&fit=crop&q=80&w=1200","date":"2024-12-24T00:00:00.000Z","category":"Technology"},{"id":"art-ocean-2024","url":"https://example.com/ocean-discovery","title":"Deep-Sea Expedition Discovers New Marine Species","shortDescription":"Underwater exploration reveals dozens of previously unknown creatures in the Mariana Trench.","fullSummary":"A deep-sea expedition to the Mariana Trench has uncovered 47 new species of marine life, including bioluminescent jellyfish and unique crustaceans adapted to extreme pressure. This discovery highlights the vast biodiversity in Earth's unexplored ocean depths and provides insights into how life adapts to extreme environments. Scientists believe these findings could have implications for astrobiology and the search for life beyond Earth.","imageUrl":"https://images.unsplash.com/photo-1559827260-dc66d52bef19?auto=format&fit=crop&q=80&w=1200","date":"2024-12-24T01:00:00.000Z","category":"Science"},{"id":"art-fusion-2024","url":"https://example.com/fusion-energy","title":"Fusion Reactor Sustains Record Energy Output","shortDescription":"Experimental fusion reactor maintains plasma for 5 minutes, a crucial step toward clean energy.","fullSummary":"An experimental fusion reactor has sustained a plasma reaction for a record-breaking 5 minutes at temperatures exceeding 100 million degrees Celsius. This achievement brings scientists closer to realizing practical fusion energy, which could provide virtually limitless clean power. The breakthrough addresses one of the key challenges in fusion: maintaining stable plasma conditions long enough to generate net energy gain.","imageUrl":"https://images.unsplash.com/photo-1473341304170-971dccb5ac1e?auto=format&fit=crop&q=80&w=1200","date":"2024-12-24T02:00:00.000Z","category":"Energy"},{"id":"art-ai-medicine-2024","url":"https://example.com/ai-diagnosis","title":"AI System Achieves 99% Accuracy in Early Cancer Detection","shortDescription":"Machine learning algorithm outperforms human doctors in identifying early-stage cancers from medical imaging.","fullSummary":"A new AI-powered diagnostic system has demonstrated 99% accuracy in detecting early-stage cancers across multiple organ types using CT scans and MRI images. The system, trained on millions of medical images, can identify subtle patterns that human radiologists might miss. Early clinical trials show the AI reduces false negatives by 40% and could revolutionize preventive healthcare by catching cancers at more treatable stages.","imageUrl":"https://images.unsplash.com/photo-1576091160399-112ba8d25d1d?auto=format&fit=crop&q=80&w=1200","date":"2024-12-24T03:00:00.000Z","category":"Healthcare"}]},
  {"id":"ed-2024-12-23","date":"2024-12-23T00:00:00.000Z","title":"Sustainability & Future Cities","articles":[{"id":"art-vertical-farm-2023","url":"https://example.com/vertical-farming","title":"World's Largest Vertical Farm Opens in Singapore","shortDescription":"Revolutionary 50-story agricultural tower produces food for 100,000 people using 95% less water.","fullSummary":"Singapore has unveiled the world's largest vertical farm, a 50-story tower that uses advanced hydroponics and AI-controlled environments to grow crops year-round. The facility produces enough fresh vegetables, herbs, and fruits to feed 100,000 people while using 95% less water than traditional farming and zero pesticides. This innovation addresses food security challenges in densely populated urban areas and reduces the carbon footprint of food transportation.","imageUrl":"https://images.unsplash.com/photo-1530836369250-ef72a3f5cda8?auto=format&fit=crop&q=80&w=1200","date":"2024-12-23T00:00:00.000Z","category":"Agriculture"},{"id":"art-carbon-capture-2023","url":"https://example.com/carbon-capture","title":"Breakthrough Carbon Capture Technology Removes CO2 at Scale","shortDescription":"New material captures carbon dioxide 10x more efficiently than existing methods.","fullSummary":"Researchers have developed a revolutionary carbon capture material that removes CO2 from the atmosphere 10 times more efficiently than current technologies. The porous crystalline structure can be manufactured at scale using abundant materials and operates at ambient temperature, making it economically viable for widespread deployment. If scaled globally, this technology could remove billions of tons of CO2 annually, playing a crucial role in combating climate change.","imageUrl":"https://images.unsplash.com/photo-1497440001374-f26997328c1b?auto=format&fit=crop&q=80&w=1200","date":"2024-12-23T01:00:00.000Z","category":"Environment"},{"id":"art-smart-city-2023","url":"https://example.com/smart-city","title":"Copenhagen Becomes First Carbon-Neutral Capital","shortDescription":"Denmark's capital achieves net-zero emissions through innovative urban planning and renewable energy.","fullSummary":"Copenhagen has officially become the world's first carbon-neutral capital city, achieving net-zero greenhouse gas emissions through a combination of renewable energy, sustainable transportation, and green architecture. The city now generates more than 100% of its electricity from wind and solar, operates the world's most extensive bike-sharing network, and has transformed urban spaces with green roofs and parks. This milestone serves as a blueprint for other cities worldwide.","imageUrl":"https://images.unsplash.com/photo-1513581166391-887a96ddeafd?auto=format&fit=crop&q=80&w=1200","date":"2024-12-23T02:00:00.000Z","category":"Urban Planning"}]},
  {"id":"ed-2024-12-22","date":"2024-12-22T00:00:00.000Z","title":"Space Exploration & Cosmic Discoveries","articles":[{"id":"art-mars-colony-2022","url":"https://example.com/mars-simulation","title":"Mars Colony Simulation Completes Year-Long Mission","shortDescription":"Crew of 6 emerges from isolated habitat after successfully testing life support systems for Mars.","fullSummary":"A crew of six researchers has completed a year-long Mars simulation in an isolated habitat in Iceland, successfully testing life support systems, food production, and psychological resilience needed for future Mars missions. The team grew 80% of their food, recycled 95% of their water, and maintained mental health through carefully designed recreational activities. The data collected will inform NASA and SpaceX's plans for establishing permanent human settlements on Mars by the 2040s.","imageUrl":"https://images.unsplash.com/photo-1614728894747-a83421e2b9c9?auto=format&fit=crop&q=80&w=1200","date":"2024-12-22T00:00:00.000Z","category":"Space"},{"id":"art-exoplanet-2022","url":"https://example.com/exoplanet-discovery","title":"James Webb Telescope Detects Signs of Life on Exoplanet","shortDescription":"Atmospheric analysis reveals biosignature gases on planet 120 light-years away.","fullSummary":"The James Webb Space Telescope has detected potential biosignature gases, including methane and oxygen, in the atmosphere of an exoplanet 120 light-years from Earth. The planet, named K2-18b, exists in the habitable zone of its star and has conditions that could support liquid water. While not definitive proof of life, this discovery represents the strongest evidence yet of biological activity beyond our solar system and marks a historic moment in the search for extraterrestrial life.","imageUrl":"https://images.unsplash.com/photo-1614732414444-096e5f1122d5?auto=format&fit=crop&q=80&w=1200","date":"2024-12-22T01:00:00.000Z","category":"Astronomy"},{"id":"art-moon-base-2022","url":"https://example.com/lunar-base","title":"International Lunar Base Construction Begins","shortDescription":"First modules arrive on the Moon's south pole, marking humanity's return to lunar surface.","fullSummary":"An international consortium has successfully landed the first modules of a permanent lunar base at the Moon's south pole, marking humanity's return to the lunar surface after 50 years. The base will serve as a research station, mining facility for extracting water ice, and staging point for deep-space missions. Solar panels and nuclear reactors will provide power, while 3D printers will manufacture additional structures using lunar regolith. The first crew of astronauts is scheduled to arrive in 2026.","imageUrl":"https://images.unsplash.com/photo-1610296669228-602fa827fc1f?auto=format&fit=crop&q=80&w=1200","date":"2024-12-22T02:00:00.000Z","category":"Space Exploration"}]},
  {"id":"ed-2024-12-21","date":"2024-12-21T00:00:00.000Z","title":"Artificial Intelligence & Robotics","articles":[{"id":"art-humanoid-robot-2021","url":"https://example.com/humanoid-robots","title":"Humanoid Robots Begin Working in Hospitals","shortDescription":"AI-powered robots assist nurses with patient care, reducing healthcare worker burnout.","fullSummary":"Advanced humanoid robots equipped with AI have begun working alongside healthcare professionals in hospitals across Japan and Germany. These robots can perform routine tasks like delivering medications, monitoring vital signs, and assisting with patient mobility, allowing nurses to focus on more complex care. Early results show a 30% reduction in nurse burnout and improved patient satisfaction. The robots learn from interactions and can communicate in multiple languages, making them suitable for diverse healthcare settings.","imageUrl":"https://images.unsplash.com/photo-1677442136019-21780ecad995?auto=format&fit=crop&q=80&w=1200","date":"2024-12-21T00:00:00.000Z","category":"Robotics"},{"id":"art-protein-folding-2021","url":"https://example.com/protein-design","title":"AI Designs Novel Proteins for Drug Development","shortDescription":"Machine learning system creates proteins never seen in nature, accelerating pharmaceutical research.","fullSummary":"An AI system has successfully designed thousands of novel proteins with specific functions, revolutionizing drug development and biotechnology. These synthetic proteins, never before seen in nature, can be tailored to target specific diseases, break down pollutants, or catalyze industrial processes. The AI reduced the protein design process from years to days, and early trials show promising results for treating rare genetic disorders. This breakthrough could democratize drug development and make personalized medicine more accessible.","imageUrl":"https://images.unsplash.com/photo-1582719508461-905c673771fd?auto=format&fit=crop&q=80&w=1200","date":"2024-12-21T01:00:00.000Z","category":"Biotechnology"},{"id":"art-autonomous-vehicles-2021","url":"https://example.com/self-driving","title":"Autonomous Vehicles Reduce Traffic Deaths by 90%","shortDescription":"Cities with widespread self-driving car adoption see dramatic improvements in road safety.","fullSummary":"Cities that have fully integrated autonomous vehicles into their transportation systems have seen traffic fatalities drop by 90%, according to a comprehensive five-year study. The AI-driven vehicles communicate with each other and traffic infrastructure to optimize traffic flow, eliminate drunk driving, and prevent human error—the leading cause of accidents. Additionally, commute times have decreased by 35%, and air quality has improved due to optimized driving patterns and the transition to electric autonomous fleets.","imageUrl":"https://images.unsplash.com/photo-1549317661-bd32c8ce0db2?auto=format&fit=crop&q=80&w=1200","date":"2024-12-21T02:00:00.000Z","category":"Transportation"}]},
  {"id":"ed-2024-12-20","date":"2024-12-20T00:00:00.000Z","title":"Education & Human Potential","articles":[{"id":"art-vr-education-2020","url":"https://example.com/vr-learning","title":"Virtual Reality Transforms Medical Education","shortDescription":"Students practice complex surgeries in VR, achieving proficiency 40% faster than traditional methods.","fullSummary":"Medical schools worldwide are adopting virtual reality training programs that allow students to practice complex surgical procedures in realistic simulated environments. Studies show VR-trained students achieve proficiency 40% faster than those using traditional methods and make fewer errors during their first real surgeries. The technology also democratizes access to advanced medical training, as students in remote areas can practice procedures that previously required expensive cadaver labs or travel to major medical centers.","imageUrl":"https://images.unsplash.com/photo-1622979135225-d2ba269cf1ac?auto=format&fit=crop&q=80&w=1200","date":"2024-12-20T00:00:00.000Z","category":"Education"},{"id":"art-brain-interface-2020","url":"https://example.com/brain-computer","title":"Brain-Computer Interface Restores Speech to Paralyzed Patients","shortDescription":"Neural implant translates brain signals into words, giving voice to those who cannot speak.","fullSummary":"A revolutionary brain-computer interface has successfully restored the ability to communicate to patients with severe paralysis. The implant reads neural signals associated with speech and translates them into synthesized words at a rate of 150 words per minute—approaching natural conversation speed. Clinical trials show patients can control the system with 95% accuracy after just weeks of training. This breakthrough offers hope to millions suffering from conditions like ALS, stroke, and spinal cord injuries.","imageUrl":"https://images.unsplash.com/photo-1559757175-0eb30cd8c063?auto=format&fit=crop&q=80&w=1200","date":"2024-12-20T01:00:00.000Z","category":"Neuroscience"},{"id":"art-personalized-learning-2020","url":"https://example.com/adaptive-education","title":"AI Tutoring Systems Close Achievement Gaps","shortDescription":"Personalized learning platforms adapt to each student, improving outcomes across all demographics.","fullSummary":"AI-powered adaptive learning platforms have demonstrated remarkable success in closing educational achievement gaps. These systems continuously assess each student's understanding and adjust content difficulty, pacing, and teaching methods in real-time. A three-year study involving 100,000 students showed underperforming students improved by an average of two grade levels, while advanced students progressed faster than traditional curricula allow. The technology is particularly effective for students with learning disabilities, providing customized support previously available only through expensive one-on-one tutoring.","imageUrl":"https://images.unsplash.com/photo-1503676260728-1c00da094a0b?auto=format&fit=crop&q=80&w=1200","date":"2024-12-20T02:00:00.000Z","category":"EdTech"}]},
  {"id":"ed-2024-12-19","date":"2024-12-19T00:00:00.000Z","title":"Renewable Energy & Climate Action","articles":[{"id":"art-solar-efficiency-2019","url":"https://example.com/perovskite-solar","title":"Perovskite Solar Cells Achieve 40% Efficiency","shortDescription":"New material doubles the efficiency of traditional silicon solar panels at half the cost.","fullSummary":"Scientists have developed perovskite solar cells that convert sunlight to electricity at 40% efficiency—double that of conventional silicon panels. The breakthrough uses a novel tandem structure that captures a broader spectrum of light. Crucially, these cells can be manufactured using simple printing techniques at a fraction of the cost of silicon panels. Mass production is expected to begin next year, potentially accelerating the global transition to renewable energy and making solar power economically viable in regions previously dependent on fossil fuels.","imageUrl":"https://images.unsplash.com/photo-1509391366360-2e959784a276?auto=format&fit=crop&q=80&w=1200","date":"2024-12-19T00:00:00.000Z","category":"Renewable Energy"},{"id":"art-wind-turbine-2019","url":"https://example.com/offshore-wind","title":"Floating Wind Farms Generate Power in Deep Waters","shortDescription":"Innovative turbines anchored to the seabed unlock vast offshore wind resources.","fullSummary":"A new generation of floating wind turbines has begun operating in waters too deep for traditional fixed-bottom installations, unlocking enormous offshore wind potential. These floating platforms, secured with mooring systems, can be deployed in depths up to 1,000 meters where winds are stronger and more consistent. The world's largest floating wind farm, now operational off the coast of Scotland, generates enough electricity for 500,000 homes. This technology could provide clean energy to coastal nations worldwide, including those without shallow continental shelves.","imageUrl":"https://images.unsplash.com/photo-1532601224476-15c79f2f7a51?auto=format&fit=crop&q=80&w=1200","date":"2024-12-19T01:00:00.000Z","category":"Wind Energy"},{"id":"art-battery-storage-2019","url":"https://example.com/solid-state-battery","title":"Solid-State Batteries Revolutionize Energy Storage","shortDescription":"New battery technology offers triple the capacity and charges in 10 minutes.","fullSummary":"A breakthrough in solid-state battery technology promises to revolutionize everything from electric vehicles to grid-scale energy storage. These batteries use solid ceramic electrolytes instead of liquid, offering triple the energy density of lithium-ion batteries, faster charging (10 minutes for a full charge), and improved safety with no fire risk. Automotive manufacturers are racing to integrate the technology, which could enable electric vehicles with 1,000-mile ranges. For renewable energy, these batteries solve the intermittency problem, storing solar and wind power for on-demand use.","imageUrl":"https://images.unsplash.com/photo-1558618666-fcd25c85cd64?auto=format&fit=crop&q=80&w=1200","date":"2024-12-19T02:00:00.000Z","category":"Energy Storage"}]},
  {"id":"ed-2024-12-18","date":"2024-12-18T00:00:00.000Z","title":"Material Science & Manufacturing","articles":[{"id":"art-graphene-2018","url":"https://example.com/graphene-applications","title":"Mass Production of Graphene Enables New Applications","shortDescription":"Scalable manufacturing process makes wonder material accessible for commercial use.","fullSummary":"Engineers have developed a cost-effective method to mass-produce graphene, the ultra-strong, lightweight material that's been called a \"wonder material\" since its discovery. The breakthrough enables commercial applications previously limited by high production costs. Graphene-based products now entering the market include flexible touchscreens, ultra-fast computer chips, water filtration systems that desalinate seawater efficiently, and composite materials for aerospace that are stronger than steel yet lighter than aluminum.","imageUrl":"https://images.unsplash.com/photo-1581093588401-fbb62a02f120?auto=format&fit=crop&q=80&w=1200","date":"2024-12-18T00:00:00.000Z","category":"Materials"},{"id":"art-3d-printing-2018","url":"https://example.com/metal-3d-printing","title":"3D-Printed Metal Parts Transform Aerospace Manufacturing","shortDescription":"Additive manufacturing reduces aircraft production time by 50% while cutting costs.","fullSummary":"Advanced 3D printing techniques for metal parts are revolutionizing aerospace manufacturing, reducing production time by 50% and costs by 30%. The technology allows engineers to create complex geometries impossible with traditional machining, resulting in lighter, stronger components. Major aircraft manufacturers are now printing entire jet engine components, landing gear, and structural elements. The technology also enables mass customization and on-demand spare parts production, potentially transforming global supply chains.","imageUrl":"https://images.unsplash.com/photo-1565191999001-551c187427bb?auto=format&fit=crop&q=80&w=1200","date":"2024-12-18T01:00:00.000Z","category":"Manufacturing"},{"id":"art-self-healing-2018","url":"https://example.com/self-healing-materials","title":"Self-Healing Materials Extend Infrastructure Lifespan","shortDescription":"Concrete and asphalt that repair their own cracks could save billions in maintenance.","fullSummary":"Scientists have developed self-healing concrete and asphalt embedded with bacteria or capsules containing healing agents that activate when cracks form. When damage occurs, these materials seal themselves, extending infrastructure lifespan dramatically. Cities piloting self-healing roads report 40% reductions in maintenance costs and longer-lasting surfaces. This innovation could save billions globally in infrastructure maintenance and reduce the environmental impact of constant repairs and replacement of roads, bridges, and buildings.","imageUrl":"https://images.unsplash.com/photo-1590856029620-23a0a7882d58?auto=format&fit=crop&q=80&w=1200","date":"2024-12-18T02:00:00.000Z","category":"Infrastructure"}]}
];

// Get data directory path
const dataDir = join(__dirname, '..', '_data');

// Create _data directory if it doesn't exist
try {
  mkdirSync(dataDir, { recursive: true });
} catch (err) {
  // Directory might already exist
}

// Convert each edition to a JSON file
mockEditions.forEach(edition => {
  const dateStr = edition.date.split('T')[0]; // Extract YYYY-MM-DD
  const filename = `${dateStr}.json`;
  const filepath = join(dataDir, filename);
  
  // Write JSON file with pretty formatting
  writeFileSync(filepath, JSON.stringify(edition, null, 2), 'utf8');
  console.log(`✓ Created ${filename}`);
});

console.log(`\n✅ Migration complete! Created ${mockEditions.length} JSON file(s) in _data/`);
